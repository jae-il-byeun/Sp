<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="kr.kh.project.dao.ProductDAO">
	<insert id="insertProduct" useGeneratedKeys="true" keyColumn="product_num" keyProperty = "pd.product_num">
		insert into product(product_num,product_name,product_type,product_content,product_bi_id,product_service,product_lo_num,product_postNum,product_mainAddress,product_detailAddress,product_extraAddress)
		select ifnull(max(product_num),0)+1
			,#{pd.product_name}
			,#{pd.product_type}
			,#{pd.product_content}
			,#{pd.product_bi_id}
			,#{pd.product_service}
			,#{pd.product_lo_num}
			,#{pd.product_postNum}
			,#{pd.product_mainAddress}
			,#{pd.product_detailAddress}
			,#{pd.product_extraAddress}
			from product
	 </insert>	 
	 
	 <select id="selectLocation" resultType="kr.kh.project.vo.LocationVO">
	 	<![CDATA[
	 		select * from location where lo_num > 0;
	 	]]>
	 </select>
	 <select id="selectDetailLocation" resultType="kr.kh.project.vo.detailLocationVO">
	 	<![CDATA[
	 		select * from detailLocation where dl_lo_num = #{lo_num}
	 	]]>
	 </select>
 </mapper>
<!-- 	 <select id="selectLocationNum" resultType="kr.kh.project.vo.LocationVO"> -->
<!-- 	 	select * from location where lo_num = #{sa} -->
<!-- 	 </select> -->

 <!--
product_num 
product_name 
product_type 
product_content 
product_location varchar(200) 
product_bi_id varchar(20) 
product_service varchar(500) 
product_lo_num int 
product_address varchar(50) 
product_postNum varchar(5) 
product_mainAddress varchar(100) 
product_detailAddress varchar(50) 
product_extraAddress varchar(50)


  
  -->

 